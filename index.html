<head>
  <style>
    body {
      margin: 0;
    }
  </style>
  <style>
    #node-label {
      padding: 30px;
      background-color: red;
      width: 60px;
    }
  </style>
  <script src="//unpkg.com/three"></script>
  <script src="//unpkg.com/three/examples/js/renderers/CSS2DRenderer.js"></script>
  <script src="//unpkg.com/3d-force-graph"></script>
</head>

<body>
  <div id="3d-graph"></div>

  <script>
    const generateLabel = (node) => {
      const nodeLabel = document.createElement("div");
      nodeLabel.textContent = node.id;
      nodeLabel.style.color = node.color;
      nodeLabel.className = "nodeLabel";
      const nodeLabelObject = new THREE.CSS2DObject(nodeLabel);
      console.log(nodeLabelObject);
      return nodeLabelObject;
    };

    // Group dictates colour
    //     const Graph = ForceGraph3D()(document.getElementById("3d-graph"))
    //       .jsonUrl("./data.json")
    //       //   .jsonUrl("./miserables.json")
    //       .nodeLabel("id")
    //       .nodeAutoColorBy("team");
    // Group dictates colour
    const Graph = ForceGraph3D({
      extraRenderers: [new THREE.CSS2DRenderer()],
    })(document.getElementById("3d-graph"))
      .jsonUrl("./data.json")
      //   .jsonUrl("./miserables.json")
      //   .nodeLabel((node) => {
      //     const label = generateLabel(node);
      //     return label;
      //   })
      .nodeLabel("id")
      .nodeAutoColorBy("team");
  </script>
</body>
